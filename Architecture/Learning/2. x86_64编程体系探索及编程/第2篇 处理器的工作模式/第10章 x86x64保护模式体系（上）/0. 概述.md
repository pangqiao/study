
**protected mode**(保护模式)在整个x86/x64体系是最为重要的处理器工作模式, 在**x64体系**中的**long mode**也是构建在**protected mode之上**, 实质上是**扩展的保护模式**. 在保护模式里可以使用处理器提供的全部资源. 

>问题1: 保护模式下保护什么?

实质上就是保护处理器的某些资源不能被随意访问, 包括处理器的硬件资源和系统的软件资源, 典型地像CR0这些系统控制寄存器. 一些系统级的数据结构, 譬如: GDT、IDT需要被保护起来, 以及OS kernel的执行代码和数据等. 

>问题2: 根据什么来保护?

x86/x64处理器定义了4个权限级别: 从0级到3级, 也被称为ring 0到ring 3. 0级具有最高的权限, 3级是最低权限. 拥有高权限的代码可以对低权限的数据进行访问, 反之则不行. 被赋予0级权限访问的资源只有具有0级权限的代码才能访问, 譬如一些特权级指令. 

>问题3: 如何实施保护措施?

这就是这一章里重点探讨的环节, 保护模式下实施了种种访问限制, 对一些违例访问的行为处理器产生相应的异常进行提示和处理. #GP异常是保护模式下最常见的异常. 而对一些数据的访问需要经过某些途径才能获得. 

而x86的segmentation(段式管理)和paging(分页管理)是实施保护措施的手段和途径, 在segmentation机制和paging机制下实行了不同的内存管理模式和访问控制. 对资源的访问需先经过segmentation阶段再到paging阶段(在开启paging机制的前提下). 在**x64体系**之下, long mode刻意地**弱化了一些segmentation阶段的限制行为**, 将重点放在了**paging阶段**里. 