


**通用异步收发传输器**(Universal Asynchronous Receiver/Transmitter, 通常称作 UART) 是一种**串行异步收发协议**, 应用十分广泛. UART 工作原理是将**数据**的二进制位**一位一位**的进行传输. 在 UART 通讯协议中**信号线**上的状态位高电平代表 '1' 低电平代表 '0'. 当然两个设备使用 UART 串口通讯时, 必须先约定好传输速率和一些数据位.

# 硬件连接

硬件连接比较简单，**仅需要3条线**，注意连接时两个设备 UART 电平，如电平范围不一致请做电平转换后再连接，如下图所示：

* TX：发送数据端，要接对面设备的RX

* RX：接收数据端，要接对面设备的TX

* GND：保证两设备共地，有统一的参考平面

![2024-08-07-10-54-04.png](./images/2024-08-07-10-54-04.png)

# 软件通信协议

UART 作为异步串口通信协议的一种，工作原理是将数据的字节一位接一位地传输。协议如下：

![2024-08-07-10-54-27.png](./images/2024-08-07-10-54-27.png)

空闲位：

UART协议规定，当总线处于空闲状态时信号线的状态为 '1' 即高电平

起始位：

开始进行数据传输时发送方要先发出一个低电平 '0' 来表示传输字符的开始。因为空闲位一直是高电平所以开始第一次通讯时先发送一个明显区别于空闲状态的信号即为低电平。

数据位：

起始位之后就是要传输的数据，数据可以是5，6，7，8，9位，构成一个字符，一般都是8位。先发送最低位最后发送最高位。

奇偶校验位：

数据位传送完成后，要进行奇偶校验，校验位其实是调整个数，串口校验分几种方式：
1.无校验（no parity）
2.奇校验（odd parity）：如果数据位中'1'的数目是偶数，则校验位为'1'，如果'1'的数目是奇数，校验位为'0'。
3.偶校验（even parity）：如果数据为中'1'的数目是偶数，则校验位为'0'，如果为奇数，校验位为'1'。
4.mark parity：校验位始终为1
5.space parity：校验位始终为0
停止位：
数据结束标志，可以是1位，1.5位，2位的高电平。
波特率：
数据传输速率使用波特率来表示，单位bps（bits per second），常见的波特率9600bps，115200bps等等，其他标准的波特率是1200，2400，4800，19200，38400，57600。举个例子，如果串口波特率设置为9600bps，那么传输一个比特需要的时间是1/9600≈104.2us。