该内容来自`<虚拟化技术原理与实现>`, 作者广小明等

KVM 是目前最火热的开源虚拟化解决方案，并且已经作为红帽的主要虚拟化产品。KVM起源于一个短短的只有几千行代码的kernel patch，但是其性能却能够逼近物理机性能的90%。与Xen不同，KVM完全依赖于CPU的硬件虚拟化方案，可以说，从本质上看，KVM就是一个对CPU硬件虚拟化单元的操作patch，体现*nix的哲学思想是：只做一件事情，但是要把这件事情做好。

本篇从 KVM 的体系结构出发，分别从日常使用、KVM 内核代码和qemu-kem 用户态代码三个角度进行讨论。在分析代码的时候，从功能划分和代码分层的角度出发，情景化地剖析了 KVM 虚拟化技术的实现方案，包括重要的数据结构、处理流程等，力图帮助读者解决一个问题：KVM 的虚拟化到底是怎么回事，是怎样实现的？