
为了便于讨论, 我们将驾驶舱控制器的功能划分为对其运行平台有不同期望的功能部分.

* 信息娱乐系统: 提供信息娱乐功能, 包括娱乐 (播放媒体) 和导航. 此部分通常通过中央控制娱乐显示屏上的触摸屏或语音与驾驶员交互.

* 仪表盘系统: 仪表盘显示并向驾驶员提供有关车辆的信息.

* 安全信息系统: 功能安全控制并提供关键信息.

一些 OEM 可能还会添加第四或第五部分, 例如驾驶员辅助功能或泊车助手.

这些不同的功能部分具有不同的需求和挑战.

OpenSynergy 公司安全驾驶舱白皮书: https://www.opensynergy.com/automotive-cockpit/

# 不同的软件框架

不同功能部分上的应用程序需要不同的应用程序编程接口和开发环境.

在信息娱乐系统中, 我们看到两个主要的选择: 基于 Android 或 Linux 的系统. Android 作为应用软件框架发挥着越来越重要的作用, 在智能手机上运行的应用程序与在车载信息娱乐系统上运行的应用程序之间有许多相似之处, 这为开发和集成车载信息娱乐应用程序提供了便利. 一些 OEM 甚至可能希望允许用户从选定的应用程序商店下载他们喜欢的应用程序, 并在车内运行在信息娱乐系统上, 以提供更开放的用户体验. 与此同时, Android 并不是为运行特定于汽车的应用程序而设计的, 例如渲染仪表盘或与汽车总线通信. 谈到安全性, 极其复杂的 Android 框架并不完全合适.

在底层硬件驱动程序部分, 一些 OEM 将使用 Linux, 其他 OEM 希望使用特定的嵌入式或实时操作系统, 如 QNX.

此外, 为了与车辆总线和其他 ECU 进行交互, 许多 OEM 想要使用经典的 AUTOSAR. 如果仪表舱系统需要执行本地驾驶员辅助应用程序, 自适应 AUTOSAR 是一个不错的选择.

# 不同的启动时间

驾驶舱系统等设备的冷启动是一个特殊的挑战.

一般来说, 冷启动 10～20s 后应可使用信息娱乐域的全部功能. 驾驶员也不想在导航系统中输入目的地之前等待 1min. 关闭系统时, 冷启动可以转换为待机模式, 在很短的时间内也可以唤醒它; 如果汽车闲置较长时间, 系统将进一步关闭状态以节省更多电力, 这需要冷启动才能重新启动.

驾驶舱控制器应支持待机模式, 以唤醒车辆, 改善用户体验.

# 更灵活的多显示器功能

当今的车辆驾驶舱需要在多个显示器上显示不同的内容, 以服务于乘车人员的不同需求.

OEM 通常要求以最高优先级在仪表盘显示屏上显示驾驶相关信息, 并且确保 60fps 的稳定帧速率. 其他功能域可以使用剩余的 GPU 功能以更灵活的方式渲染可能复杂的场景, 例如来自导航系统的三维地图, 而不会影响仪表盘的渲染.

> fps 即帧 / 秒, 指画面每秒传递的帧数.

同时, 人机交互设计者希望根据车辆情况和驾驶员偏好灵活改变仪表盘显示屏的布局. 在某些情况下, 显示车速的刻度盘必须移到一侧, 才能从导航系统融合到三维渲染地图中. 在其他情况下, 仪表盘处于全焦点状态, 只有一小部分空间用于转弯导航. 这对驾驶舱控制器提出了技术挑战, 因为两个功能领域都使用相同的图形显示硬件. 4. 功能安全要求

# 功能安全要求

从安全角度来看, 驾驶舱控制器各功能部分有如下安全要求.

* 信息娱乐系统的功能不需要满足任何安全要求.

* 仪表盘显示屏上显示的大部分信息对可用性, 服务质量和启动时间的要求更高, 但仍不构成任何正式安全要求的基础.

* 在某些显示器上显示的一小部分信息需要符合功能安全要求(根据 ISO 26262)​: 通常是警告标志或 "信号装置"​.

ISO 26262 是国际上通用的道路车辆安全标准, 规定了车辆制造商必须评估的车辆功能的关键级别, 按照安全等级由低至高分为 5 个安全级别: QM(无安全相关性)​,ASIL-A(最低临界性)​,ASIL-B,ASIL-C 和 ASIL-D(最高临界性)​. 有人驾驶的车辆要通过 ASIL-B, 而无人驾驶车辆要通过 ASIL-D. 该标准定义了安全认证需要采取的技术措施和验证措施, 以便在系统级或分解后在硬件或软件级实现这些功能.

让我们回到需要由仪表舱呈现的 "信号装置"​. 信号装置是警告标志, 用于提醒驾驶员车辆出现故障 (例如, 制动中检测到的问题) 或危险驾驶情况 (例如, 来自驾驶员辅助系统)​. 大多数 OEM 将为该功能提供 QM,ASIL-A 或 ASIL-B 的安全级别. 在某些情况下, 可能影响车辆安全的驾驶建议(如推荐档位) 也被分配了 ASIL. 其安全要求如下: 如果仪表盘功能被通知必须提供信号装置, 相关显示器必须显示一定范围内的警告标志.

不安全的情况是, 应该显示警告但仪表盘没有显示任何警告信息. 不安全情况的一个例子是, 在应该显示警告的驾驶情况下, 仪表盘显示屏冻结或者非安全相关功能的重叠信息隐藏了信号装置.

软件定义驾驶舱的安全不容忽视, 特别是仪表盘系统的安全尤为重要. 而基于虚拟化技术的软件定义驾驶舱能够很好地实现安全隔离各个子系统. 采用具有安全认证的 Hypervisor 和硬件平台, 譬如 ACRN Hypervisor,QNX Hypervisor, 可以加速安全软件定义驾驶舱的开发, 加速国际安全认证, 加速产品的上市.

# 模块化软件更新

软件更新可以修复与功能相关的错误, 并在车辆寿命期内添加新功能.

如果将 Android 用作信息娱乐域框架, 则应该可以更新单个应用程序或频繁添加和删除应用程序, 降低重新测试和重新认证的成本, 并使客户能够定制他们的系统, 此类更新不应影响驾驶舱系统, 如核心信息娱乐功能, 仪表盘域功能或任何安全相关功能.

此外, 必须能够更新整个信息娱乐域, 修复框架中的错误, 更改核心功能或升级到更新版本的 Android, 但此类升级不应干扰仪表盘功能或安全相关功能. 还必须能够更新影响安全关键功能的软件或任何底层软件, 如驱动程序.

必须实现可以模块化地更新软件的功能, 这样频繁更新的非关键功能不会影响核心功能或安全关键行为.
