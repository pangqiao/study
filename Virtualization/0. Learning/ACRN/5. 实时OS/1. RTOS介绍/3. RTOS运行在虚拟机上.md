
当嵌入式虚拟机上需要运行多个虚拟机时, 需要为 RTOS 分配专用资源以改善实时性. RTOS 通常需要在单独的 CPU 核上运行, 以防止任务迁移造成的抖动. 假如 CPU 支持缓存再分配的话, 建议单独分配一些 cache way 给 RTOS 来提高实时性, 防止运行非实时任务的 CPU 核或者 GPU 以及 I/O 把实时性指令或实时性数据刷出缓存. 此外, 中断可能会中断正常操作, 较高的中断率会严重降低系统性能, 所以仅分配一个或多个中断给所需的 RTOS 即可. 另外, 也可以通过透传专用的网卡, 存储设备或其他与实时性能相关的设备给需要的 RTOS, 从而大大提高 I/O 的实时性能.