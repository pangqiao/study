
嵌入式虚拟化系统的性能调优, 不仅需要对硬件, BIOS,ACRN Hypervisor 进行实时的优化配置, 了解 RTVM 中运行的 RTOS 也很关键.

虽然本书主要介绍嵌入式虚拟机的设计与实现, 但是也需要对运行在虚拟机上的嵌入式操作系统进行介绍, 两者需要配合在一起实现才能充分发挥业务应用程序的实时性能.

因为 ACRN 是在 x86 硬件平台上实现的, 并且实现的是 x86 的虚拟运行环境, 所以本章主要介绍了三个比较流行的 x86 平台上的开源操作系统.

作为为数不多的开源的硬实时系统之一, Xenomai 从诞生开始存续了 20 多年, 中间也经历了多次更新换代. 它的特殊设计, 比如双核 (cokernel), 使它可以被用作硬实时操作系统.

PREEMPT_RT Linux 也在 Linux 内核加上实时补丁来提高 Linux 的实时性能. PREEMPT_RT 补丁使 Linux 内核绝大多数时间都可以被抢占, 高优先级实时进程调度延迟被大大缩短, 进而达到实时性目的. 这些补丁的改动包括中断线程化, 可抢占自旋锁和优先级反转 / 继承等.

Zephyr 是 x86 平台上实时操作系统的另一个不错的选择, 它旨在成为物联网时代资源受限的中小型设备最好的开源软件平台. Zephyr 和 Linux 同属 Linux 基金会, 可以有效地和 Linux 形成互补, 可以用于因为 Linux 过大过重而不适用的场合, 例如微控制器. Zephyr 希望成为一个针对 "微控制器的 Linux"​, 从而熟悉 Linux 内核开发流程的开发者可以方便地上手 Zephyr 开发.
