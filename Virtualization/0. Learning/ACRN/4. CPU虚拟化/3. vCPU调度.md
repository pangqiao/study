
本节以静态处理器分区模式为例讲述 vCPU 的调度.

在静态处理器分区下, ACRN Hypervisor 实现了基于两个线程的简单调度机制: vCPU 线程 (vcpu_thread) 和默认空闲线程(default_idle). VCPU_RUNNING 状态的 vCPU 始终运行在 vcpu_thread 循环中, 而 VCPU_PAUSED 或 VCPU_ZOMBIE 状态的 vCPU 运行在 default_idle 循环中. vcpu_thread 和 default_idle 线程中的详细行为如图 4-9 所示.


