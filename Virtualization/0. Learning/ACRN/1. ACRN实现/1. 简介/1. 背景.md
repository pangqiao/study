
随着现代汽车, 工业, 物联网和计算机技术的快速发展, 负载整合已经成为物联网嵌入式领域的趋势. 所谓负载整合是指在一个通用的硬件计算平台上通过计算机技术实现不同负载的协同处理. 分散独立的计算机系统被一个可扩展的高性能计算机替代. 通过负载整合能有效降低成本, 提升效率, 增强系统灵活性.

同时伴随着计算机的发展, 其单机的 CPU 核数不断增多, 各种硬件性能不断提升, 这也为负载整合创造了有利条件. 嵌入式虚拟化技术在这种情形下应运而生, 可用于汽车, 工业或物联网边缘, 端侧的各种负载整合场景.

另外, 物联网和边缘侧的开发人员在他们构建的系统上面临着越来越高的需求, 因为人们越来越期望连接的设备支持一系列硬件资源, 操作系统以及软件工具和应用程序. 虚拟化技术是满足这些需求的关键. 现有的大多数虚拟机管理程序 Hypervisor 或 VMM 解决方案都无法为物联网和边缘系统提供合适的大小, 启动速度, 实时支持和灵活性. 数据中心管理程序代码量太大, 难以提供安全或硬实时功能, 并且用于嵌入式开发时需要过多的性能开销. 嵌入式虚拟化技术正是为满足这一需求而构建的, ACRN 项目也因此应运而生.

ACRN 是由英特尔发起的 Linux 基金会下面的一个开源项目, 于 2018 年 3 月正式发布, 它是一个专门为嵌入式系统设计的轻量级虚拟机 Hypervisor, 具有灵活, 轻量等特性, 以实时性和关键安全性为出发点进行构建, 是专门用来满足以上场景需求的嵌入式虚拟机参考方案.

ACRN 是一种一型 (Type-1)Hypervisor, 可在裸机硬件上直接运行, 具有快速启动功能, 并可针对各种物联网, 边缘和嵌入式设备解决方案进行配置. 它提供了一个灵活, 轻量级的管理程序, 在构建时考虑了实时性和安全性, 并通过开源, 可扩展的参考平台进行了优化以简化嵌入式开发. 它的架构可以运行多个操作系统和虚拟机, 并通过有效的虚拟化确保在一个系统硬件平台上共存的异构工作负载不会相互干扰.

ACRN 支持不同类型的外部设备是它的另一个优点. 它可以支持嵌入式系统中常见的各种类型设备和总线, 例如摄像头, 音频, 网络, 存储, GPIO,I2C 总线等. ACRN 为虚拟设备仿真定义了一个参考框架实现, 称为 ACRN 设备模型 (Device Model,DM), 专门支持丰富的 I/O 设备的共享. 它也支持物理设备的直通访问, 以满足实时应用程序的时间敏感要求和低延迟访问需求. 为了使 Hypervisor 的代码库尽可能小且高效, 大部分设备模型实现驻留在服务虚拟机中, 以提供物理设备共享和其他功能.
